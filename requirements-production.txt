# ============================================================================
# BIZRA AEON OMEGA v10.0.0 - PRODUCTION DEPENDENCIES
# ============================================================================
# Pin ALL versions for reproducible builds (SOT compliance)
# Last Updated: 2025-12-24
# Python: 3.10+ (numpy pins vary by interpreter version)

# ──────────────────────────────────────────────────────────────────────────
# CORE DEEP LEARNING & NUMERICS
# ──────────────────────────────────────────────────────────────────────────
# For CUDA builds, use: pip install torch --extra-index-url https://download.pytorch.org/whl/cu118
# P2 FIX: Pinned exact versions for reproducible builds (SOT Section 5)
torch==2.7.1            # PyTorch (CPU version for Docker compatibility)
numpy==1.26.4           # Numerical computing (compatible with scipy 1.11.x)
scipy==1.11.4           # Scientific computing
defusedxml==0.7.1       # B314 fix: Secure XML parsing (prevents XXE attacks)

# ──────────────────────────────────────────────────────────────────────────
# POST-QUANTUM CRYPTOGRAPHY (NIST-Certified)
# ──────────────────────────────────────────────────────────────────────────
# P2 FIX: Pinned exact versions for reproducible builds
liboqs-python==0.10.0       # NIST post-quantum algorithms (Dilithium-5, Kyber-1024)
cryptography==45.0.7        # Classical crypto (Ed25519, SHA3)
pycryptodome==3.21.0        # GHSA-j225-cvw7-qrx7: OAEP decryption side-channel fix
blake3==1.0.0               # Fast cryptographic hash (attestation IDs)
toml==0.10.2                # TOML parser for constitution.toml
opentimestamps-client==0.7.1  # Bitcoin-anchored timestamps (court-grade provenance)
# ──────────────────────────────────────────────────────────────────────────
# MEMORY & DATA STRUCTURES
# ──────────────────────────────────────────────────────────────────────────
faiss-cpu==1.7.4            # Vector similarity search (L3 Episodic Memory)
neo4j==5.13.0               # Graph database driver (L4 Semantic HyperGraph)
networkx==3.3               # Graph analysis and algorithms
redis==5.0.0                # In-memory cache (temporal chain acceleration)
filelock==3.20.1            # File locking (CVE-2025-68146: race condition fix)

# ──────────────────────────────────────────────────────────────────────────
# WEB FRAMEWORK & API (FastAPI/ASGI stack - no Flask required)
# ──────────────────────────────────────────────────────────────────────────
# NOTE: CORS is handled via fastapi.middleware.cors.CORSMiddleware (see core/engine/api.py)
# werkzeug and flask-cors are NOT needed - this is a pure ASGI/Starlette stack
fastapi==0.127.0            # Modern async web framework
uvicorn[standard]==0.40.0   # ASGI server with extras (uvloop, httptools)
pydantic==2.12.5            # Data validation
pydantic-settings==2.1.0    # Settings management
python-multipart==0.0.20    # GHSA-59g5-xgcq-4qw3: File uploads (security patched, P2 FIX: pinned)

# ──────────────────────────────────────────────────────────────────────────
# MONITORING & OBSERVABILITY
# ──────────────────────────────────────────────────────────────────────────
prometheus-client==0.19.0   # Prometheus metrics exporter
python-json-logger==2.0.7   # Structured JSON logging
opentelemetry-api==1.21.0   # Distributed tracing
opentelemetry-sdk==1.21.0   # OpenTelemetry SDK
urllib3==2.2.3              # HTTP client (P2 FIX: pinned exact version)

# ──────────────────────────────────────────────────────────────────────────
# DATABASE & PERSISTENCE
# ──────────────────────────────────────────────────────────────────────────
sqlalchemy[asyncio]==2.0.23 # Async SQL ORM
asyncpg==0.29.0             # Async PostgreSQL driver
motor==3.3.1                # Async MongoDB driver

# ──────────────────────────────────────────────────────────────────────────
# DATA PROCESSING & COMPRESSION
# ──────────────────────────────────────────────────────────────────────────
msgpack==1.0.7              # Fast binary serialization
orjson==3.9.10              # Fast JSON parsing/serialization
# lzma is stdlib (no install needed)

# ──────────────────────────────────────────────────────────────────────────
# TESTING & QUALITY ASSURANCE
# ──────────────────────────────────────────────────────────────────────────
pytest==7.4.3               # Testing framework
pytest-asyncio==0.21.1      # Async test support
pytest-cov==4.1.0           # Coverage plugin
pytest-xdist==3.5.0         # Parallel test execution
hypothesis==6.92.1          # Property-based testing
faker==20.1.0               # Test data generation
locust==2.20.0              # Load testing

# ──────────────────────────────────────────────────────────────────────────
# CODE QUALITY & LINTING
# ──────────────────────────────────────────────────────────────────────────
black==23.12.1              # Code formatting
ruff==0.1.9                 # Fast Python linter
mypy==1.7.1                 # Static type checking
bandit==1.7.6               # Security linting

# ──────────────────────────────────────────────────────────────────────────
# DEPLOYMENT & INFRASTRUCTURE
# ──────────────────────────────────────────────────────────────────────────
# P2 FIX: Pinned exact versions
kubernetes==31.0.0          # Kubernetes Python client
docker==7.1.0               # Docker SDK
python-dotenv==1.0.0        # Environment variable management

# ──────────────────────────────────────────────────────────────────────────
# UTILITIES
# ──────────────────────────────────────────────────────────────────────────
python-dateutil==2.8.2      # Date/time utilities
pytz==2023.3                # Timezone support
click==8.1.7                # CLI framework
rich==13.7.0                # Terminal formatting
tenacity==8.2.3             # Retry logic

# ──────────────────────────────────────────────────────────────────────────
# PERFORMANCE OPTIMIZATION
# ──────────────────────────────────────────────────────────────────────────
numba==0.58.1               # JIT compilation for numerical code
cython==3.0.7               # C-extension compiler

# ──────────────────────────────────────────────────────────────────────────
# OPTIONAL: GPU ACCELERATION
# ──────────────────────────────────────────────────────────────────────────
# Uncomment if GPU support needed:
# cupy-cuda11x==12.3.0      # NumPy-compatible array library for GPU

# ============================================================================
# INSTALLATION NOTES
# ============================================================================
# 
# 1. Install liboqs system library first:
#    Ubuntu/Debian: sudo apt-get install -y liboqs-dev
#    macOS: brew install liboqs
#    Windows: Download from https://openquantumsafe.org
#
# 2. Install PyTorch with correct CUDA version:
#    pip install torch==2.7.1+cu118 --extra-index-url https://download.pytorch.org/whl/cu118
#
# 3. Install all dependencies:
#    pip install -r requirements-production.txt
#
# 4. Verify installation:
#    python -c "import liboqs; import faiss; import neo4j; print('✓ All deps OK')"
#
# ============================================================================
